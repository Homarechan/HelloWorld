DATAP: EQU #98

CMDP: EQU #99

ORG 0
DI

XOR A
OUT (CMDP),A
LD A,#40
OUT (CMDP),A

LD B,0
LD HL,#3FFF
LD C,DATAP
CLEAR:
OUT (C),B
DEC HL
LD A,H
OR L
NOP
NOP
JR NZ,CLEAR

LD C,CMDP
LD E,#80

OUT (C),A
OUT (C),E

LD A,#50
INC E
OUT (C),A
OUT (C),E

XOR A
INC E
OUT (C),A
OUT (C),E

INC E

INC A
INC E

OUT (C),A
OUT (C),E

INC E
INC E

LD A,#F0
INC E
OUT (C),A
OUT (C),E

LD A,8
OUT (C),A
LD A,#48
OUT (C),A

LD HL,CHARS
LD B, CHARS_END-CHARS
COPYCHARS:
LD A,(HL)
OUT (DATAP),A
INC HL
NOP
NOP
DJNZ COPYCHARS

XOR A
OUT (C),A
LD A,#40
OUT (C),A

LD HL,ORDER
LD B,ORDER_END-ORDER
COPYORDER:
LD A,(HL)
OUT (DATAP),A
INC HL

JR OVERNMI
NOP
NOP

RETN

OVERNMI:
DJNZ COPYORDER

HALT

ORDER:
DEFB 1,2,3,3,4,0,5,4,6,3,7
ORDER_END:

CHARS:

DEFB %10001000
DEFB %10001000
DEFB %10001000
DEFB %11111000
DEFB %10001000
DEFB %10001000
DEFB %10001000
DEFB %00000000

DEFB %00000000
DEFB %00000000
DEFB %01110000
DEFB %10001000
DEFB %11111000
DEFB %10000000
DEFB %01110000
DEFB %00000000

DEFB %01100000
DEFB %00100000
DEFB %00100000
DEFB %00100000
DEFB %00100000
DEFB %00100000
DEFB %01110000
DEFB %00000000

DEFB %00000000
DEFB %00000000
DEFB %01110000
DEFB %10001000
DEFB %10001000
DEFB %10001000
DEFB %01110000
DEFB %00000000

DEFB %10001000
DEFB %10001000
DEFB %10001000
DEFB %10101000
DEFB %10101000
DEFB %11011000
DEFB %10001000
DEFB %00000000

DEFB %00000000
DEFB %00000000
DEFB %10110000
DEFB %11001000
DEFB %10000000
DEFB %10000000
DEFB %10000000
DEFB %00000000

DEFB %00001000
DEFB %00001000
DEFB %01101000
DEFB %10011000
DEFB %10001000
DEFB %10011000
DEFB %01101000
DEFB %00000000
chars_end: